(this.webpackJsonpproshop=this.webpackJsonpproshop||[]).push([[8],{153:function(e,t,a){"use strict";a.r(t);var c=a(9),n=a.n(c),r=a(12),o=a(15),s=a(0),l=a(13),j=a.n(l),i=a(14),u=a(144),b=a(142),d=a(85),p=a(11),O=a(19),h=a(24),x=a(41),g=a(53),m=a(8),f=a(1);t.default=function(e){var t=e.match,a=e.history,c=t.params.id,l=Object(s.useState)(""),v=Object(o.a)(l,2),C=v[0],y=v[1],I=Object(s.useState)(""),S=Object(o.a)(I,2),k=S[0],G=S[1],L=Object(s.useState)(""),w=Object(o.a)(L,2),D=w[0],E=w[1],F=Object(s.useState)(""),P=Object(o.a)(F,2),B=P[0],J=P[1],N=Object(s.useState)(""),U=Object(o.a)(N,2),_=U[0],T=U[1],q=Object(s.useState)(0),z=Object(o.a)(q,2),A=z[0],H=z[1],K=Object(s.useState)(""),M=Object(o.a)(K,2),Q=M[0],R=M[1],V=Object(s.useState)(!1),W=Object(o.a)(V,2),X=W[0],Y=W[1],Z=Object(p.b)(),$=Object(p.c)((function(e){return e.productDetails})),ee=$.loading,te=$.error,ae=$.product,ce=Object(p.c)((function(e){return e.productUpdate})),ne=ce.loading,re=ce.error,oe=ce.success;Object(s.useEffect)((function(){oe?(Z({type:m.w}),a.push("/admin/productlist")):ae&&ae.name&&ae._id===c?(y(ae.name),E(ae.image),G(ae.price),T(ae.category),J(ae.brand),H(ae.countInStock),R(ae.description)):Z(Object(x.d)(c))}),[oe,ae,Z,c,a]);var se=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,c,r,o,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(c=new FormData).append("image",a),Y(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,j.a.post("/api/upload",c,r);case 8:o=e.sent,s=o.data,E(s),Y(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),Y(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(i.Link,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(f.jsxs)(g.a,{children:[Object(f.jsx)("h1",{children:" Edit Product"}),ne&&Object(f.jsx)(h.a,{}),re&&Object(f.jsx)(O.a,{variant:"danger",children:re}),ee?Object(f.jsx)(h.a,{}):te?Object(f.jsx)(O.a,{variant:"danger",children:te}):Object(f.jsxs)(u.a,{onSubmit:function(e){e.preventDefault(),Z(Object(x.g)({_id:c,name:C,price:k,image:D,brand:B,category:_,countInStock:A,description:Q}))},children:[Object(f.jsxs)(u.a.Group,{controlId:"name",children:[Object(f.jsx)(u.a.Label,{children:"Enter product Name"}),Object(f.jsx)(u.a.Control,{type:"name",placeholder:"Product name",value:C,onChange:function(e){return y(e.target.value)}})]}),Object(f.jsxs)(u.a.Group,{controlId:"price",children:[Object(f.jsx)(u.a.Label,{children:"price "}),Object(f.jsx)(u.a.Control,{type:"price",placeholder:"price ",value:k,onChange:function(e){return G(e.target.value)}})]}),Object(f.jsxs)(u.a.Group,{controlId:"Image",children:[Object(f.jsx)(u.a.Label,{children:"Product Image "}),Object(f.jsx)("br",{}),Object(f.jsx)(b.a,{src:D,fluid:!0,style:{width:"100px"}}),Object(f.jsx)("br",{}),Object(f.jsx)(u.a.Control,{type:"text",placeholder:"Image",value:"Image File Path: ".concat(D),onChange:function(e){return E(e.target.value)}})," ",Object(f.jsx)(u.a.Control,{type:"file",label:"Choose File",custom:!0,onChange:se}),X&&Object(f.jsx)(h.a,{})]}),Object(f.jsxs)(u.a.Group,{controlId:"brand",children:[Object(f.jsx)(u.a.Label,{children:"Brand "}),Object(f.jsx)(u.a.Control,{type:"text",placeholder:"Enter Brand ",value:B,onChange:function(e){return J(e.target.value)}})]}),Object(f.jsxs)(u.a.Group,{controlId:"countInStock",children:[Object(f.jsx)(u.a.Label,{children:"Count In Stock "}),Object(f.jsx)(u.a.Control,{type:"text",placeholder:"Count In Stock",value:A,onChange:function(e){return H(e.target.value)}})]}),Object(f.jsxs)(u.a.Group,{controlId:"category",children:[Object(f.jsx)(u.a.Label,{children:"Category "}),Object(f.jsx)(u.a.Control,{type:"text",placeholder:"Enter Category ",value:_,onChange:function(e){return T(e.target.value)}})]}),Object(f.jsxs)(u.a.Group,{controlId:"Description",children:[Object(f.jsx)(u.a.Label,{children:"Description "}),Object(f.jsx)(u.a.Control,{type:"text",placeholder:"Enter Description ",value:Q,onChange:function(e){return R(e.target.value)}})]}),Object(f.jsx)(d.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})}}}]);
//# sourceMappingURL=8.904229c1.chunk.js.map