{"version":3,"sources":["screens/UserListScreen.jsx"],"names":["UserListScreen","history","dispatch","useDispatch","userList","useSelector","state","loading","error","users","userInfo","userLogin","userDeleted","userDelete","success","useEffect","isAdmin","listUsers","push","Fragment","variant","striped","bordered","hover","responsive","className","map","user","_id","name","href","email","style","color","to","onClick","id","window","confirm","deleteUser"],"mappings":"qGAAA,2FAuFeA,UA/EQ,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAClBC,EAAWC,cACXC,EAAWC,aAAY,SAACC,GAAD,OAAWA,EAAMF,YACtCG,EAA0BH,EAA1BG,QAASC,EAAiBJ,EAAjBI,MAAOC,EAAUL,EAAVK,MAEhBC,EAAaL,aAAY,SAACC,GAAD,OAAWA,EAAMK,aAA1CD,SAGSE,EADEP,aAAY,SAACC,GAAD,OAAWA,EAAMO,cACxCC,QAERC,qBAAU,WACJL,GAAYA,EAASM,QACvBd,EAASe,eAEThB,EAAQiB,KAAK,YAEd,CAAChB,EAAUD,EAASS,EAAUE,IAOjC,OACE,eAAC,IAAMO,SAAP,WACE,uCACCZ,EACC,cAAC,IAAD,IACEC,EACF,cAAC,IAAD,CAASY,QAAQ,SAAjB,SAA2BZ,IAE3B,eAAC,IAAD,CAAOa,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACC,YAAU,EAACC,UAAU,WAAnD,UACE,gCACE,+BACE,oCACA,sCACA,uCACA,uCACA,8CAGJ,gCACGhB,EAAMiB,KAAI,SAACC,GACV,OACE,+BACE,mCAAMA,EAAKC,OACX,mCAAMD,EAAKE,QACX,+BACG,IACD,mBAAGC,KAAI,iBAAYH,EAAKI,OAAxB,SAAkCJ,EAAKI,WAEzC,+BACG,IACAJ,EAAKX,QACJ,mBAAGS,UAAU,eAAeO,MAAO,CAAEC,MAAO,WAE5C,mBAAGR,UAAU,eAAeO,MAAO,CAAEC,MAAO,YAGhD,+BACE,cAAC,gBAAD,CAAeC,GAAE,sBAAiBP,EAAKC,IAAtB,SAAjB,SACE,cAAC,IAAD,CAAQR,QAAQ,QAAQK,UAAU,SAAlC,SACE,mBAAGA,UAAU,oBAGjB,cAAC,IAAD,CAAQL,QAAQ,SAASK,UAAU,SAASU,QAAS,kBA/ChDC,EA+CoET,EAAKC,SA9C1FS,OAAOC,QAAQ,iBACjBpC,EAASqC,YAAWH,KAFF,IAACA,GA+CL,SACE,mBAAGX,UAAU,wBAtBVE,EAAKC","file":"static/js/11.be8842f1.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Table, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport { listUsers, deleteUser } from \"../actions/userActions\";\n\nconst UserListScreen = ({ history }) => {\n  const dispatch = useDispatch();\n  const userList = useSelector((state) => state.userList);\n  const { loading, error, users } = userList;\n\n  const { userInfo } = useSelector((state) => state.userLogin);\n\n  const userDelete = useSelector((state) => state.userDelete);\n  const { success: userDeleted } = userDelete;\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listUsers());\n    } else {\n      history.push(\"/login\");\n    }\n  }, [dispatch, history, userInfo, userDeleted]);\n\n  const deleteHandler = (id) => {\n    if (window.confirm(\"Are you sure\")) {\n      dispatch(deleteUser(id));\n    }\n  };\n  return (\n    <React.Fragment>\n      <h1>Users</h1>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant='danger'>{error}</Message>\n      ) : (\n        <Table striped bordered hover responsive className='table-sm'>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Name</th>\n              <th>Email</th>\n              <th>Admin</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map((user) => {\n              return (\n                <tr key={user._id}>\n                  <td> {user._id}</td>\n                  <td> {user.name}</td>\n                  <td>\n                    {\" \"}\n                    <a href={`mailto:${user.email}`}>{user.email}</a>\n                  </td>\n                  <td>\n                    {\" \"}\n                    {user.isAdmin ? (\n                      <i className='fas fa-check' style={{ color: \"green\" }}></i>\n                    ) : (\n                      <i className='fas fa-times' style={{ color: \"red\" }}></i>\n                    )}\n                  </td>\n                  <td>\n                    <LinkContainer to={`/admin/user/${user._id}/edit`}>\n                      <Button variant='light' className='btn-sm'>\n                        <i className='fas fa-edit'></i>\n                      </Button>\n                    </LinkContainer>\n                    <Button variant='danger' className='btn-sm' onClick={() => deleteHandler(user._id)}>\n                      <i className='fas fa-trash'></i>\n                    </Button>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default UserListScreen;\n"],"sourceRoot":""}